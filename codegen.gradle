//
// Reference: 
//  - https://jeong-pro.tistory.com/192 [기본기를 쌓는 정아마추어 코딩블로그]
//  - https://github.com/google/protobuf-gradle-plugin
//
apply plugin: 'java'
apply plugin: 'com.google.protobuf'

buildscript {
  repositories {
    mavenCentral()
  }
  dependencies {
    classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.10'
  }
}

protobuf {
  protoc {
    artifact = "com.google.protobuf:protoc:3.6.0"
      // protoc {
      //     path = '/usr/local/bin/protoc'
      // }
  }
  plugins {
    grpc {
      artifact = 'io.grpc:protoc-gen-grpc-java:1.21.0'
    }
  }
  generateProtoTasks {
    all()*.plugins { grpc {} }
  } 
}
